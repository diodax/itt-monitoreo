{"_id":"sails-generate-auth","_rev":"41-b2ceb0724aeaf99dc509f3fb74a58696","name":"sails-generate-auth","description":"Generate a Passport.js authentication layer for your Sails app that will Rock Your Socks™.","dist-tags":{"latest":"0.3.1"},"versions":{"0.1.0":{"name":"sails-generate-auth","version":"0.1.0","description":"Generate a Passport.js authentication layer for your Sails app that will Rock Your Socks™.","main":"lib/index.js","scripts":{"test":"mocha"},"keywords":["auth","generator","sails","generate","plugin","passport"],"author":{"name":"Kasper Isager","email":"kasperisager@gmail.com"},"license":"MIT","dependencies":{"lodash":">=2.4.x","merge-defaults":">=0.1.0"},"devDependencies":{"sails-generate":"*","reportback":"*","fs-extra":"*"},"sails":{"generator":{"name":"auth","behavior":"overrides `sails generate auth`","sailsVersion":"0.10.x","main":"lib/index"}},"_id":"sails-generate-auth@0.1.0","dist":{"shasum":"9c8938807f19354aaf4f299bfedcb31bd850d992","tarball":"https://registry.npmjs.org/sails-generate-auth/-/sails-generate-auth-0.1.0.tgz"},"_from":".","_npmVersion":"1.3.21","_npmUser":{"name":"kasperisager","email":"kasperisager@gmail.com"},"maintainers":[{"name":"kasperisager","email":"kasperisager@gmail.com"}],"directories":{},"deprecated":"No longer maintained"},"0.1.1":{"name":"sails-generate-auth","version":"0.1.1","description":"Generate a Passport.js authentication layer for your Sails app that will Rock Your Socks™.","author":{"name":"Kasper Isager","email":"kasperisager@gmail.com"},"main":"lib/index.js","repository":{"type":"git","url":"https://github.com/kasperisager/sails-generate-auth.git"},"bugs":{"url":"http://github.com/kasperisager/sails-generate-auth/issues","email":"kasperisager@gmail.com"},"keywords":["auth","generator","sails","generate","plugin","passport"],"license":"MIT","dependencies":{"lodash":">=2.4.x","merge-defaults":">=0.1.0"},"devDependencies":{"sails-generate":"*","reportback":"*","fs-extra":"*"},"sails":{"generator":{"name":"auth","behavior":"overrides `sails generate auth`","sailsVersion":"0.10.x","main":"lib/index"}},"homepage":"https://github.com/kasperisager/sails-generate-auth","_id":"sails-generate-auth@0.1.1","dist":{"shasum":"104ad0d3eb45b53f6273d61a0bfb6fa9176b5d7f","tarball":"https://registry.npmjs.org/sails-generate-auth/-/sails-generate-auth-0.1.1.tgz"},"_from":".","_npmVersion":"1.3.21","_npmUser":{"name":"kasperisager","email":"kasperisager@gmail.com"},"maintainers":[{"name":"kasperisager","email":"kasperisager@gmail.com"}],"deprecated":"No longer maintained","directories":{}},"0.1.2":{"name":"sails-generate-auth","version":"0.1.2","description":"Generate a Passport.js authentication layer for your Sails app that will Rock Your Socks™.","author":{"name":"Kasper Isager","email":"kasperisager@gmail.com"},"main":"lib/index.js","repository":{"type":"git","url":"https://github.com/kasperisager/sails-generate-auth.git"},"bugs":{"url":"http://github.com/kasperisager/sails-generate-auth/issues","email":"kasperisager@gmail.com"},"keywords":["auth","generator","sails","generate","plugin","passport"],"license":"MIT","dependencies":{"lodash":">=2.4.x","merge-defaults":">=0.1.0"},"devDependencies":{"sails-generate":"*","reportback":"*","fs-extra":"*"},"sailsGenerator":{"type":"auth","behavior":"overrides `sails generate auth`","sailsVersion":"0.10.x"},"homepage":"https://github.com/kasperisager/sails-generate-auth","_id":"sails-generate-auth@0.1.2","dist":{"shasum":"6a9595440ff4b22340f04708df034957e063232b","tarball":"https://registry.npmjs.org/sails-generate-auth/-/sails-generate-auth-0.1.2.tgz"},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"kasperisager","email":"kasperisager@gmail.com"},"maintainers":[{"name":"kasperisager","email":"kasperisager@gmail.com"}],"deprecated":"No longer maintained","directories":{}},"0.1.3":{"name":"sails-generate-auth","version":"0.1.3","description":"Generate a Passport.js authentication layer for your Sails app that will Rock Your Socks™.","author":{"name":"Kasper Isager","email":"kasperisager@gmail.com"},"main":"lib/index.js","repository":{"type":"git","url":"https://github.com/kasperisager/sails-generate-auth.git"},"bugs":{"url":"http://github.com/kasperisager/sails-generate-auth/issues","email":"kasperisager@gmail.com"},"keywords":["auth","generator","sails","generate","plugin","passport"],"license":"MIT","dependencies":{"lodash":">=2.4.x","merge-defaults":">=0.1.0"},"devDependencies":{"sails-generate":"*","reportback":"*","fs-extra":"*"},"sailsGenerator":{"type":"auth","behavior":"overrides `sails generate auth`","sailsVersion":"0.10.x"},"homepage":"https://github.com/kasperisager/sails-generate-auth","_id":"sails-generate-auth@0.1.3","dist":{"shasum":"6fdc2acf7df921fb7b2c7d33253efd8ec791b4ef","tarball":"https://registry.npmjs.org/sails-generate-auth/-/sails-generate-auth-0.1.3.tgz"},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"kasperisager","email":"kasperisager@gmail.com"},"maintainers":[{"name":"kasperisager","email":"kasperisager@gmail.com"}],"deprecated":"No longer maintained","directories":{}},"0.1.4":{"name":"sails-generate-auth","version":"0.1.4","description":"Generate a Passport.js authentication layer for your Sails app that will Rock Your Socks™.","author":{"name":"Kasper Isager","email":"kasperisager@gmail.com"},"main":"lib/index.js","repository":{"type":"git","url":"https://github.com/kasperisager/sails-generate-auth.git"},"bugs":{"url":"http://github.com/kasperisager/sails-generate-auth/issues","email":"kasperisager@gmail.com"},"keywords":["auth","generator","sails","generate","plugin","passport"],"license":"MIT","dependencies":{"lodash":">=2.4.x","merge-defaults":">=0.1.0"},"devDependencies":{"sails-generate":"*","reportback":"*","fs-extra":"*"},"sailsGenerator":{"type":"auth","behavior":"overrides `sails generate auth`","sailsVersion":"0.10.x"},"homepage":"https://github.com/kasperisager/sails-generate-auth","_id":"sails-generate-auth@0.1.4","dist":{"shasum":"4df22e6bd0febc48123b3df82b94a4872716053b","tarball":"https://registry.npmjs.org/sails-generate-auth/-/sails-generate-auth-0.1.4.tgz"},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"kasperisager","email":"kasperisager@gmail.com"},"maintainers":[{"name":"kasperisager","email":"kasperisager@gmail.com"}],"deprecated":"No longer maintained","directories":{}},"0.1.5":{"name":"sails-generate-auth","version":"0.1.5","description":"Generate a Passport.js authentication layer for your Sails app that will Rock Your Socks™.","author":{"name":"Kasper Isager","email":"kasperisager@gmail.com"},"main":"lib/index.js","repository":{"type":"git","url":"https://github.com/kasperisager/sails-generate-auth.git"},"bugs":{"url":"http://github.com/kasperisager/sails-generate-auth/issues","email":"kasperisager@gmail.com"},"keywords":["auth","generator","sails","generate","plugin","passport"],"license":"MIT","dependencies":{"lodash":">=2.4.x","merge-defaults":">=0.1.0"},"devDependencies":{"sails-generate":"*","reportback":"*","fs-extra":"*"},"sailsGenerator":{"type":"auth","behavior":"overrides `sails generate auth`","sailsVersion":"0.10.x"},"gitHead":"541d5a79f04194212ec01abb46e167cd7a7e7f9a","homepage":"https://github.com/kasperisager/sails-generate-auth","_id":"sails-generate-auth@0.1.5","scripts":{},"_shasum":"e9b733ee7db97bc162ba7b383c2fa954915a2b11","_from":".","_npmVersion":"1.4.16","_npmUser":{"name":"kasperisager","email":"kasperisager@gmail.com"},"maintainers":[{"name":"kasperisager","email":"kasperisager@gmail.com"}],"dist":{"shasum":"e9b733ee7db97bc162ba7b383c2fa954915a2b11","tarball":"https://registry.npmjs.org/sails-generate-auth/-/sails-generate-auth-0.1.5.tgz"},"deprecated":"No longer maintained","directories":{}},"0.1.6":{"name":"sails-generate-auth","version":"0.1.6","description":"Generate a Passport.js authentication layer for your Sails app that will Rock Your Socks™.","author":{"name":"Kasper Isager","email":"kasperisager@gmail.com"},"main":"lib/index.js","repository":{"type":"git","url":"https://github.com/kasperisager/sails-generate-auth.git"},"bugs":{"url":"http://github.com/kasperisager/sails-generate-auth/issues","email":"kasperisager@gmail.com"},"keywords":["auth","generator","sails","generate","plugin","passport"],"license":"MIT","dependencies":{"lodash":">=2.4.x","merge-defaults":">=0.1.0"},"devDependencies":{"sails-generate":"*","reportback":"*","fs-extra":"*"},"sailsGenerator":{"type":"auth","behavior":"overrides `sails generate auth`","sailsVersion":"0.10.x"},"gitHead":"0061895d501b1a3855db5fa0b096d8071ffa7429","homepage":"https://github.com/kasperisager/sails-generate-auth","_id":"sails-generate-auth@0.1.6","scripts":{},"_shasum":"cf88d0a5fa882479e72bbc92c8954f72fa3e6859","_from":".","_npmVersion":"1.4.16","_npmUser":{"name":"kasperisager","email":"kasperisager@gmail.com"},"maintainers":[{"name":"kasperisager","email":"kasperisager@gmail.com"}],"dist":{"shasum":"cf88d0a5fa882479e72bbc92c8954f72fa3e6859","tarball":"https://registry.npmjs.org/sails-generate-auth/-/sails-generate-auth-0.1.6.tgz"},"deprecated":"No longer maintained","directories":{}},"0.2.0":{"name":"sails-generate-auth","version":"0.2.0","description":"Generate a Passport.js authentication layer for your Sails app that will Rock Your Socks™.","author":{"name":"Kasper Isager","email":"kasperisager@gmail.com"},"main":"lib/index.js","repository":{"type":"git","url":"https://github.com/kasperisager/sails-generate-auth.git"},"bugs":{"url":"http://github.com/kasperisager/sails-generate-auth/issues","email":"kasperisager@gmail.com"},"keywords":["auth","generator","sails","generate","plugin","passport"],"license":"MIT","dependencies":{"lodash":">=2.4.x","merge-defaults":">=0.1.0"},"devDependencies":{"sails-generate":"*","reportback":"*","fs-extra":"*"},"sailsGenerator":{"type":"auth","behavior":"overrides `sails generate auth`","sailsVersion":"0.10.x"},"gitHead":"775b5525e5db0d7fd2326e96eba2e1d3df521faf","homepage":"https://github.com/kasperisager/sails-generate-auth","_id":"sails-generate-auth@0.2.0","scripts":{},"_shasum":"b5923b541c12907c729512efb4aff9eaaae9be96","_from":".","_npmVersion":"2.0.0","_npmUser":{"name":"kasperisager","email":"kasperisager@gmail.com"},"maintainers":[{"name":"kasperisager","email":"kasperisager@gmail.com"}],"dist":{"shasum":"b5923b541c12907c729512efb4aff9eaaae9be96","tarball":"https://registry.npmjs.org/sails-generate-auth/-/sails-generate-auth-0.2.0.tgz"},"deprecated":"No longer maintained","directories":{}},"0.3.0":{"name":"sails-generate-auth","version":"0.3.0","description":"Generate a Passport.js authentication layer for your Sails app that will Rock Your Socks™.","author":{"name":"Kasper Isager","email":"kasperisager@gmail.com"},"main":"lib/index.js","repository":{"type":"git","url":"https://github.com/kasperisager/sails-generate-auth.git"},"bugs":{"url":"http://github.com/kasperisager/sails-generate-auth/issues","email":"kasperisager@gmail.com"},"keywords":["auth","generator","sails","generate","plugin","passport"],"license":"MIT","dependencies":{"lodash":">=2.4.x","merge-defaults":">=0.1.0"},"devDependencies":{"sails-generate":"*","reportback":"*","fs-extra":"*"},"sailsGenerator":{"type":"auth","behavior":"overrides `sails generate auth`","sailsVersion":"0.10.x"},"gitHead":"e7cf7947678fc6d6efe6020145bcee117ff28748","homepage":"https://github.com/kasperisager/sails-generate-auth","_id":"sails-generate-auth@0.3.0","scripts":{},"_shasum":"b5e17dba6de9c1b89a3d6d0d216e2d4ecd3629bb","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"kasperisager","email":"kasperisager@gmail.com"},"maintainers":[{"name":"kasperisager","email":"kasperisager@gmail.com"}],"dist":{"shasum":"b5e17dba6de9c1b89a3d6d0d216e2d4ecd3629bb","tarball":"https://registry.npmjs.org/sails-generate-auth/-/sails-generate-auth-0.3.0.tgz"},"deprecated":"No longer maintained","directories":{}},"0.3.1":{"name":"sails-generate-auth","version":"0.3.1","description":"Generate a Passport.js authentication layer for your Sails app that will Rock Your Socks™.","author":{"name":"Kasper Isager","email":"kasperisager@gmail.com"},"main":"lib/index.js","repository":{"type":"git","url":"https://github.com/kasperisager/sails-generate-auth.git"},"bugs":{"url":"http://github.com/kasperisager/sails-generate-auth/issues","email":"kasperisager@gmail.com"},"keywords":["auth","generator","sails","generate","plugin","passport"],"license":"MIT","dependencies":{"lodash":">=2.4.x","merge-defaults":">=0.1.0"},"devDependencies":{"sails-generate":"*","reportback":"*","fs-extra":"*"},"sailsGenerator":{"type":"auth","behavior":"overrides `sails generate auth`","sailsVersion":"0.10.x"},"gitHead":"d3d181f66ca694a5462a2168ac4f41f18fc0c6aa","homepage":"https://github.com/kasperisager/sails-generate-auth","_id":"sails-generate-auth@0.3.1","scripts":{},"_shasum":"acc12ef8a1308cf689ffb555fcda65c93e9767d9","_from":".","_npmVersion":"2.7.5","_nodeVersion":"0.12.2","_npmUser":{"name":"kasperisager","email":"kasperisager@gmail.com"},"maintainers":[{"name":"kasperisager","email":"kasperisager@gmail.com"}],"dist":{"shasum":"acc12ef8a1308cf689ffb555fcda65c93e9767d9","tarball":"https://registry.npmjs.org/sails-generate-auth/-/sails-generate-auth-0.3.1.tgz"},"deprecated":"No longer maintained","directories":{}}},"readme":"![image_squidhome@2x.png](http://i.imgur.com/RIvu9.png)\n\n# sails-generate-auth\n\n[![Release](http://img.shields.io/npm/v/sails-generate-auth.svg?style=flat)](https://www.npmjs.org/package/sails-generate-auth) [![Code Climate](http://img.shields.io/codeclimate/github/kasperisager/sails-generate-auth.svg?style=flat)](https://codeclimate.com/github/kasperisager/sails-generate-auth) [![Dependency Status](http://img.shields.io/gemnasium/kasperisager/sails-generate-auth.svg?style=flat)](https://gemnasium.com/kasperisager/sails-generate-auth) [![Downloads](http://img.shields.io/npm/dm/sails-generate-auth.svg?style=flat)](https://www.npmjs.org/package/sails-generate-auth)\n\nA Passport.js-based authentication generator for use with the Sails command-line interface.\n\nSo, how easy is it to use? Say you wanted to add Twitter authentication to our app for example – this is all you'd need:\n\n```javascript\ntwitter: {\n  name: 'Twitter',\n  protocol: 'oauth',\n  strategy: require('passport-twitter').Strategy,\n  options: {\n    consumerKey: 'your-consumer-key',\n    consumerSecret: 'your-consumer-secret'\n  }\n}\n```\n\nThis sets you up with an authentication endpoint at `/auth/twitter` as well as a callback at `/auth/twitter/callback` - easy, huh?\n\nBehind the scenes, the service uses the concept of \"Passports\" to store everything related to user authentication. This allows you to keep your own models free of authentication-related bloat as well as help you optimize your application as the data is queried separately only when authentication happens.\n\nI do encourage you to read through the entire source – everything's very well documented, so it should be an easy read.\n\n### Installation\n\nCertain generators are installed by default in Sails, but they can be overridden.  Check the [Sails docs](http://sailsjs.org/#!documentation) for information on installing generator overrides / custom generators.\n\nIn order to use a generator you will need the latest Sails, ~0.10, which can be installed with:\n\n```sh\nnpm install sails -g\n```\n\nOnce that's all set, install the generator:\n\n```sh\n$ npm install sails-generate-auth\n```\n\n### Production Usage\n\n##### On the command line\n\n```sh\n$ sails generate auth\n```\n\n##### In a node script\n\n```javascript\nvar path = require('path');\nvar sailsgen = require('sails-generate');\nvar scope = {\n\trootPath: path.resolve(__dirname)\n};\nsailsgen(require('sails-generate-auth'), scope, function (err) {\n\tif (err) throw err;\n\n\t// It worked.\n});\n```\n\n##### Requirements\n\nThe only requirements, besides running the generator and adding some providers in `config/passport.js`, is having a set of routes that exposes the authentication endpoints. You'll also need to load the Passport.js middleware for all your controllers and install the required npm packages. Lastly, you need to add a line to `config/bootstrap.js` to load your Passport providers on startup.\n\nFor the routes, this is what you'll need to add to your `config/routes.js` file:\n\n```javascript\n'get /login': 'AuthController.login',\n'get /logout': 'AuthController.logout',\n'get /register': 'AuthController.register',\n\n'post /auth/local': 'AuthController.callback',\n'post /auth/local/:action': 'AuthController.callback',\n\n'get /auth/:provider': 'AuthController.provider',\n'get /auth/:provider/callback': 'AuthController.callback',\n'get /auth/:provider/:action': 'AuthController.callback',\n```\n\nNext, change your `config/bootstrap.js` to load your Passport providers on startup by adding the following line:\n\n```javascript\nsails.services.passport.loadStrategies();\n```\n\nAll required Passport.js middleware is contained within the `passport` policy so all you need to do is load it before your controllers in `config/policies.js`:\n\n```javascript\n'*': [ 'passport', /* your auth dependant policies go here */ ]\n```\n\nLastly, you will need to install the [`passport`](https://npmjs.org/package/passport), [`bcryptjs`](https://npmjs.org/package/bcryptjs) and [`validator`](https://npmjs.org/package/validator) packages from npm for everything to work correctly.\n\nIf you want to make use of the error messages, you'll also need to add the following locale definitions (example translations provided):\n\n```json\n{\n  \"Error.Passport.Password.Invalid\": \"The provided password is invalid!\",\n  \"Error.Passport.Password.Wrong\": \"Whoa, that password wasn't quite right!\",\n  \"Error.Passport.Password.NotSet\": \"Oh no, you haven't set a password yet!\",\n  \"Error.Passport.Username.NotFound\": \"Uhm, what's your name again?\",\n  \"Error.Passport.User.Exists\": \"This username is already taken.\",\n  \"Error.Passport.Email.NotFound\": \"That email doesn't seem right\",\n  \"Error.Passport.Email.Missing\": \"You need to supply an email-address for verification\",\n  \"Error.Passport.Email.Exists\": \"This email already exists. So try logging in.\",\n  \"Error.Passport.Username.Missing\": \"You need to supply a username\",\n  \"Error.Passport.Password.Missing\": \"Oh no, you haven't set a password yet!\",\n  \"Error.Passport.Generic\": \"Snap. Something went wrong with authorization.\"\n}\n```\n\nsails-generate-auth, by default doesn't deny access to controllers if the user is not logged in. For that, you can create another policy (for example: `sessionAuth`) in `api/policies/` and add it to `config/policies` as follows:\n\n``` javascript\n '*': ['passport', 'sessionAuth'],\n\n 'auth': {\n    '*': ['passport']\n  }\n```\n\nThis helps to restrict access to all the controller except auth controller actions such as login, logout and register, if the user is not logged in. See this [issue](https://github.com/kasperisager/sails-generate-auth/issues/112) and [stackoverflow answer](http://stackoverflow.com/questions/27168229/passport-authentication-not-working-in-sails-js-application/27182970#27182970) for more details.\n\nFor controller actions which are accessed via APIs, you can add `bearerAuth` (available in `api/policies`). This policy ensures that the API is secure and only requests containing a bearer token can access them.\n\n### Questions?\n\nSee `FAQ.md`.\n\n### More Resources\n\n- [Stackoverflow](http://stackoverflow.com/questions/tagged/sails.js)\n- [#sailsjs on Freenode](http://webchat.freenode.net/) (IRC channel)\n- [Twitter](https://twitter.com/sailsjs)\n- [Professional/enterprise](https://github.com/balderdashy/sails-docs/blob/master/FAQ.md#are-there-professional-support-options)\n- [Tutorials](https://github.com/balderdashy/sails-docs/blob/master/FAQ.md#where-do-i-get-help)\n- <a href=\"http://sailsjs.org\" target=\"_blank\" title=\"Node.js framework for building realtime APIs.\"><img src=\"https://github-camo.global.ssl.fastly.net/9e49073459ed4e0e2687b80eaf515d87b0da4a6b/687474703a2f2f62616c64657264617368792e6769746875622e696f2f7361696c732f696d616765732f6c6f676f2e706e67\" width=60 alt=\"Sails.js logo (small)\"/></a>\n\n---\n\nCopyright &copy; 2014-2015 [Kasper Kronborg Isager](https://github.com/kasperisager). Licensed under the terms of the [MIT license](LICENSE.md).\n","maintainers":[{"name":"kasperisager","email":"kasperisager@gmail.com"}],"time":{"modified":"2016-01-24T16:00:39.496Z","created":"2014-01-28T04:06:05.870Z","0.1.0":"2014-01-28T04:06:05.870Z","0.1.1":"2014-01-28T14:15:27.275Z","0.1.2":"2014-03-02T16:14:33.378Z","0.1.3":"2014-04-25T23:37:02.134Z","0.1.4":"2014-04-26T02:19:11.063Z","0.1.5":"2014-06-22T20:57:51.812Z","0.1.6":"2014-07-06T19:05:38.297Z","0.2.0":"2014-10-03T05:11:16.450Z","0.3.0":"2015-03-17T08:33:20.816Z","0.3.1":"2015-05-04T20:05:49.386Z"},"readmeFilename":"README.md","users":{"balderdashy":true,"goliatone":true,"tjwebb":true,"ruzz311":true,"huafu":true,"bonecrusher":true,"abhishekdutt":true,"gregone":true,"zabaat":true,"alexbel":true,"sung2ne":true,"shanemileham":true,"vvinder":true,"zuraguerra":true,"plitat":true,"0x4c3p":true,"rassiel":true,"sammyteahan":true,"ugarz":true,"wjebc":true,"infrasp":true},"homepage":"https://github.com/kasperisager/sails-generate-auth","keywords":["auth","generator","sails","generate","plugin","passport"],"repository":{"type":"git","url":"https://github.com/kasperisager/sails-generate-auth.git"},"author":{"name":"Kasper Isager","email":"kasperisager@gmail.com"},"bugs":{"url":"http://github.com/kasperisager/sails-generate-auth/issues","email":"kasperisager@gmail.com"},"license":"MIT","_attachments":{},"_etag":"\"ATZPA3XSUQ6A7RT412OO18E2M\""}